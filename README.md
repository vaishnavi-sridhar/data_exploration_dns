# DNS Data Exploration

This git repository helps understand the DNS logs and get an overall picture before delving into the detailed analysis of the logs.

**Prerequisites:**

-Format of DNS logs : generated by Bro/Zeek- https://docs.zeek.org/en/current/scripts/base/protocols/dns/main.zeek.html#type-DNS::Info 

-Python (>=3.6) [Note: The project was tested using Python versions 3.6 as well as 3.9]

-Input file format : name of the file should be of the format: <date>_dns.<start_time>-<end_time>.log [i.e. 2021-08-01_dns.04:00:00-05:00:00.log]

**Plot/Graphs generated:**
Following graphs are generated to get a holistic view of the DNS data
  
**Graph 1.**  Number of DNS records (vs) Time of the day
  
**Graph 2.**  Queried domain names (vs) count - Top 20/50 domains overall
  
**Graph 3.**  Query type (vs) count for different times of the day - to understand the distribution of type of DNS traffic
  
**Graph 4.**. Top 5 domains for different time of the day(in hours)
  
**Project structure:**
This project consists of 3 python files and need to be run in the same order for users to obtain correct results
  
1. aggregator.py : Takes a single I/P file location as input parameter and generates data as dictionary required for plotting the graphs and save to corresponding text files 
  
2. graph.py : Used to plot graphs
  
3. automation.py: Used for recursively running aggregator.py for multiple DNS log files at once. (Files should be in the current working directory and end with '.log')
  
**Commands used to run the python scripts**
  
  <em>python3 aggregator.py --input_file /home/vasr2545/uncompressed_dns/2021-08-01_dns.00:00:00-01:00:00.log</em>
  
  <em>python3 automation.py</em>
  
  <em>python3 graph.py</em>
  
**Testing caveats:** 
  The python scripts automation & aggregator were tested with actual CU DNS log files on class server due to the DNS data movement restrictions, whereas the script graph was tested on local with the generated text files , due to the lack of matplotlib python module on class server.
 
